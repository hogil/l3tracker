# Wafer Map Viewer - í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ë™ì‘ ì„¤ëª…

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
l3tracker/
â”œâ”€â”€ ğŸ–¥ï¸ í”„ë¡ íŠ¸ì—”ë“œ (ì›¹ ì¸í„°í˜ì´ìŠ¤)
â”‚   â”œâ”€â”€ index.html          # ë©”ì¸ HTML í˜ì´ì§€ (UI êµ¬ì¡°)
â”‚   â”œâ”€â”€ main.js             # ë©”ì¸ JavaScript (3500+ ì¤„, ëª¨ë“  í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§)
â”‚   â””â”€â”€ frontend/
â”‚       â””â”€â”€ app.py          # Streamlit ëŒ€ì‹œë³´ë“œ (ì„ íƒì )
â”‚
â”œâ”€â”€ ğŸš€ ë°±ì—”ë“œ API
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ main.py         # FastAPI ì„œë²„ (600+ ì¤„, ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸)
â”‚   â”‚   â”œâ”€â”€ config.py       # ì„¤ì • íŒŒì¼ (ê²½ë¡œ, ì¸ë„¤ì¼ ì„¤ì •)
â”‚   â”‚   â”œâ”€â”€ model_utils.py  # ëª¨ë¸ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ utils.py        # ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚
â”œâ”€â”€ ğŸ“‹ ì„¤ì • ë° ë¬¸ì„œ
â”‚   â”œâ”€â”€ requirements.txt    # Python ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ README.md          # í”„ë¡œì íŠ¸ ì„¤ëª…
â”‚   â”œâ”€â”€ ARCHITECTURE.md    # ì´ íŒŒì¼ (êµ¬ì¡° ì„¤ëª…)
â”‚   â””â”€â”€ CHANGELOG.md       # ë³€ê²½ì‚¬í•­ ê¸°ë¡
â”‚
â””â”€â”€ ğŸ“Š ë°ì´í„° (ì™¸ë¶€ ê²½ë¡œ)
    â””â”€â”€ D:/project/data/wm-811k/  # ì›¨ì´í¼ ë§µ ì´ë¯¸ì§€ ë°ì´í„°
```

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 1. **ì›¹ ê¸°ë°˜ 3ê³„ì¸µ êµ¬ì¡°**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/WebSocket    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    File I/O    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   í”„ë¡ íŠ¸ì—”ë“œ     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚    ë°±ì—”ë“œ API     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   íŒŒì¼ ì‹œìŠ¤í…œ    â”‚
â”‚   (ë¸Œë¼ìš°ì €)     â”‚                      â”‚   (FastAPI)      â”‚                â”‚ (ì´ë¯¸ì§€/ì¸ë„¤ì¼)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **ì£¼ìš” ì»´í¬ë„ŒíŠ¸**

#### ğŸ¨ **í”„ë¡ íŠ¸ì—”ë“œ (index.html + main.js)**
- **ë‹¨ì¼ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ (SPA)**
- **ë°˜ì‘í˜• 3íŒ¨ë„ ë ˆì´ì•„ì›ƒ**: ì¢Œì¸¡ íŒŒì¼íƒìƒ‰ê¸° | ì¤‘ì•™ ì´ë¯¸ì§€ë·°ì–´ | ìš°ì¸¡ í´ë˜ìŠ¤ê´€ë¦¬
- **ëª¨ë“œ ì „í™˜**: ë‹¨ì¼ ì´ë¯¸ì§€ ëª¨ë“œ â†” ê·¸ë¦¬ë“œ ëª¨ë“œ
- **ì‹¤ì‹œê°„ ì¸ë„¤ì¼ ë¡œë”©** ë° **ì§€ì—° ë¡œë”© (Lazy Loading)**

#### âš¡ **ë°±ì—”ë“œ (FastAPI)**
- **RESTful API** ì„¤ê³„
- **ë¹„ë™ê¸° ì²˜ë¦¬** (async/await)
- **ë°±ê·¸ë¼ìš´ë“œ ì¸ë„¤ì¼ ìƒì„±** ì‹œìŠ¤í…œ
- **íŒŒì¼ ì‹œìŠ¤í…œ ì¶”ìƒí™”**

## ğŸ”„ ì£¼ìš” ë™ì‘ íë¦„

### 1. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘**
```mermaid
graph TD
    A[ë¸Œë¼ìš°ì € ì ‘ì†] --> B[index.html ë¡œë“œ]
    B --> C[main.js ë¡œë“œ]
    C --> D[WaferMapViewer í´ë˜ìŠ¤ ì´ˆê¸°í™”]
    D --> E[DOM ìºì‹±]
    E --> F[ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡]
    F --> G[íŒŒì¼ íƒìƒ‰ê¸° ë¡œë“œ]
    G --> H[ë°±ê·¸ë¼ìš´ë“œ ì¸ë„¤ì¼ ìƒì„± ì‹œì‘]
```

### 2. **íŒŒì¼ ì„ íƒ ë° í‘œì‹œ**
```mermaid
graph TD
    A[ì‚¬ìš©ìê°€ íŒŒì¼ í´ë¦­] --> B{ì„ íƒëœ íŒŒì¼ ìˆ˜}
    B -->|1ê°œ| C[ê·¸ë¦¬ë“œ ëª¨ë“œ]
    B -->|ì—¬ëŸ¬ê°œ| D[ê·¸ë¦¬ë“œ ëª¨ë“œ]
    C --> E[ì¸ë„¤ì¼ ë¡œë“œ]
    D --> F[ì¸ë„¤ì¼ ë°°ì¹˜]
    E --> G[ì´ë¯¸ì§€ í‘œì‹œ]
    F --> G
```

### 3. **ì¸ë„¤ì¼ ìƒì„± ì‹œìŠ¤í…œ**
```mermaid
graph TD
    A[ì´ë¯¸ì§€ ìš”ì²­] --> B{ì¸ë„¤ì¼ ì¡´ì¬?}
    B -->|Yes| C[ìºì‹œëœ ì¸ë„¤ì¼ ë°˜í™˜]
    B -->|No| D[ì›ë³¸ ì´ë¯¸ì§€ ë¡œë“œ]
    D --> E[512x512 ë¦¬ì‚¬ì´ì¦ˆ]
    E --> F[ê²€ì€ ë°°ê²½ì— íŒ¨ë”©]
    F --> G[WebP 95% í’ˆì§ˆ ì €ì¥]
    G --> H[ì¸ë„¤ì¼ ë°˜í™˜]
```

## ğŸ§© í•µì‹¬ í´ë˜ìŠ¤ ë° í•¨ìˆ˜

### **JavaScript (main.js)**

#### **WaferMapViewer í´ë˜ìŠ¤** (ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬)
```javascript
class WaferMapViewer {
    // ğŸ—ï¸ ì´ˆê¸°í™”
    constructor()               // DOM ìºì‹±, ìƒíƒœ ì´ˆê¸°í™”, ì´ë²¤íŠ¸ ë°”ì¸ë”©
    
    // ğŸ“ íŒŒì¼ ê´€ë¦¬
    handleFileClick()           // íŒŒì¼/í´ë” í´ë¦­ ì²˜ë¦¬
    loadDirectoryContents()     // ë””ë ‰í„°ë¦¬ ë‚´ìš© ë¡œë“œ
    
    // ğŸ–¼ï¸ ì´ë¯¸ì§€ í‘œì‹œ
    showGrid()                  // ê·¸ë¦¬ë“œ ëª¨ë“œ í‘œì‹œ
    loadImage()                 // ë‹¨ì¼ ì´ë¯¸ì§€ ë¡œë“œ
    
    // ğŸ” ê²€ìƒ‰ ê¸°ëŠ¥
    performSearch()             // íŒŒì¼/í´ë” ê²€ìƒ‰
    searchInDirectory()         // ì¬ê·€ì  ë””ë ‰í„°ë¦¬ ê²€ìƒ‰
    
    // ğŸ¯ ì„ íƒ ê´€ë¦¬
    toggleGridImageSelect()     // ê·¸ë¦¬ë“œ ì´ë¯¸ì§€ ì„ íƒ/í•´ì œ
    updateGridSelection()       // ì„ íƒ ìƒíƒœ UI ì—…ë°ì´íŠ¸
    
    // ğŸ“‹ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´
    showContextMenu()           // ìš°í´ë¦­ ë©”ë‰´ í‘œì‹œ
    mergeAndCopyImages()        // ì´ë¯¸ì§€ í•©ì¹˜ê¸°
    copyFileList()              // íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ë³µì‚¬
    
    // ğŸ·ï¸ ë¶„ë¥˜ ê´€ë¦¬
    addClass()                  // í´ë˜ìŠ¤ ì¶”ê°€
    refreshClassList()          // í´ë˜ìŠ¤ ëª©ë¡ ê°±ì‹ 
}
```

### **Python (api/main.py)**

#### **ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸**
```python
# ğŸ“ íŒŒì¼ ì‹œìŠ¤í…œ
@app.get("/api/files")          # ë””ë ‰í„°ë¦¬ ë‚´ìš© ì¡°íšŒ
@app.get("/api/image")          # ì´ë¯¸ì§€ íŒŒì¼ ë°˜í™˜

# ğŸ–¼ï¸ ì¸ë„¤ì¼ ê´€ë¦¬
@app.get("/api/thumbnail")      # ì¸ë„¤ì¼ ìƒì„±/ë°˜í™˜
@app.post("/api/thumbnail/preload")  # ì¸ë„¤ì¼ ë¯¸ë¦¬ ìƒì„±

# ğŸ·ï¸ ë¶„ë¥˜ ì‹œìŠ¤í…œ
@app.get("/api/classes")        # í´ë˜ìŠ¤ ëª©ë¡ ì¡°íšŒ
@app.post("/api/classes")       # ìƒˆ í´ë˜ìŠ¤ ìƒì„±
@app.post("/api/classify")      # ì´ë¯¸ì§€ ë¶„ë¥˜

# ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ
@app.get("/api/worker/stats")   # ì›Œì»¤ í†µê³„
@app.get("/api/background/stats") # ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… í†µê³„
```

#### **ë°±ê·¸ë¼ìš´ë“œ ì¸ë„¤ì¼ ì‹œìŠ¤í…œ**
```python
class BackgroundThumbnailManager:
    async def start()           # ë°±ê·¸ë¼ìš´ë“œ ì‹œìŠ¤í…œ ì‹œì‘
    async def _scan_and_generate()  # ì£¼ê¸°ì  ìŠ¤ìº” ë° ìƒì„±
    def _create_thumbnail_safe()    # ì•ˆì „í•œ ì¸ë„¤ì¼ ìƒì„±
```

## ğŸ›ï¸ ì£¼ìš” ê¸°ëŠ¥ë³„ ë™ì‘

### **1. íŒŒì¼ íƒìƒ‰ ë° ì„ íƒ**
- **ê³„ì¸µì  í´ë” êµ¬ì¡°** í‘œì‹œ
- **Ctrl+í´ë¦­**: ë‹¤ì¤‘ ì„ íƒ
- **Shift+í´ë¦­**: ë²”ìœ„ ì„ íƒ
- **ì§€ì—° ë¡œë”©**: í•„ìš”í•  ë•Œë§Œ í•˜ìœ„ í´ë” ë¡œë“œ

### **2. ì´ë¯¸ì§€ í‘œì‹œ ëª¨ë“œ**
- **ê·¸ë¦¬ë“œ ëª¨ë“œ**: ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ê²©ìë¡œ í‘œì‹œ
- **ë‹¨ì¼ ì´ë¯¸ì§€ ëª¨ë“œ**: í•œ ì´ë¯¸ì§€ë¥¼ í¬ê²Œ í‘œì‹œ (í™•ëŒ€/ì¶•ì†Œ/íŒ¬)
- **ìë™ ëª¨ë“œ ì „í™˜**: ì„ íƒ ê°œìˆ˜ì— ë”°ë¼ ìë™ ì „í™˜

### **3. ê²€ìƒ‰ ì‹œìŠ¤í…œ**
- **í´ë”ëª… ê²€ìƒ‰**: í´ë” ì´ë¦„ìœ¼ë¡œ í•„í„°ë§
- **íŒŒì¼ëª… ê²€ìƒ‰**: íŒŒì¼ ì´ë¦„ìœ¼ë¡œ í•„í„°ë§
- **ì¡°í•© ê²€ìƒ‰**: í´ë”+íŒŒì¼ ë™ì‹œ ê²€ìƒ‰
- **ì¬ê·€ ê²€ìƒ‰**: í•˜ìœ„ í´ë”ê¹Œì§€ ëª¨ë‘ ê²€ìƒ‰

### **4. ì¸ë„¤ì¼ ìµœì í™”**
- **ê³ í’ˆì§ˆ**: 512x512, WebP 95% í’ˆì§ˆ
- **ë¹„ìœ¨ ìœ ì§€**: ê²€ì€ ë°°ê²½ì— ì¤‘ì•™ ì •ë ¬ íŒ¨ë”©
- **ë°±ê·¸ë¼ìš´ë“œ ìƒì„±**: ì‚¬ìš©ì ì‘ì—… ë°©í•´ ì—†ì´ ìƒì„±
- **ìºì‹±**: í•œ ë²ˆ ìƒì„±ëœ ì¸ë„¤ì¼ ì¬ì‚¬ìš©

### **5. ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ ì‹œìŠ¤í…œ**
- **ìŠ¤ë§ˆíŠ¸ ì„ íƒ**: ìš°í´ë¦­ ì‹œ ìë™ìœ¼ë¡œ í•´ë‹¹ í•­ëª© ì„ íƒ
- **ë‹¤ì¤‘ ë‹¤ìš´ë¡œë“œ**: ì„ íƒëœ íŒŒì¼ë“¤ ìˆœì°¨ ë‹¤ìš´ë¡œë“œ
- **ì´ë¯¸ì§€ í•©ì¹˜ê¸°**: Nê°œ â†’ âˆšN x âˆšN ê·¸ë¦¬ë“œë¡œ í•©ì¹˜ê¸°
- **í´ë¦½ë³´ë“œ ì—°ë™**: ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ í´ë¦½ë³´ë“œ ë³µì‚¬

## âš¡ ì„±ëŠ¥ ìµœì í™”

### **í”„ë¡ íŠ¸ì—”ë“œ**
- **ê°€ìƒí™”**: ëŒ€ëŸ‰ ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
- **ë””ë°”ìš´ì‹±**: ê²€ìƒ‰/ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ìµœì í™”
- **ì§€ì—° ë¡œë”©**: í™”ë©´ì— ë³´ì´ëŠ” ì¸ë„¤ì¼ë§Œ ë¡œë“œ
- **ìº”ë²„ìŠ¤ ê¸°ë°˜**: ì´ë¯¸ì§€ ë Œë”ë§ ì„±ëŠ¥ í–¥ìƒ

### **ë°±ì—”ë“œ**
- **ë¹„ë™ê¸° ì²˜ë¦¬**: ë™ì‹œ ìš”ì²­ ì²˜ë¦¬
- **ìŠ¤ë ˆë“œ í’€**: ì¸ë„¤ì¼ ìƒì„± ë³‘ë ¬í™”
- **ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…**: ì‚¬ìš©ì ê²½í—˜ ë°©í•´ ì—†ì´ ì²˜ë¦¬
- **ìºì‹±**: íŒŒì¼ ì‹œìŠ¤í…œ ë° ì¸ë„¤ì¼ ìºì‹œ

## ğŸ”§ ì„¤ì • ë° í™•ì¥ì„±

### **ì„¤ì • íŒŒì¼ (config.py)**
```python
ROOT_DIR = "D:/project/data/wm-811k"  # ë°ì´í„° ê²½ë¡œ
THUMBNAIL_SIZE = (512, 512)           # ì¸ë„¤ì¼ í¬ê¸°
THUMBNAIL_QUALITY = 95                # ì¸ë„¤ì¼ í’ˆì§ˆ
BACKGROUND_BATCH_SIZE = 10            # ë°±ê·¸ë¼ìš´ë“œ ë°°ì¹˜ í¬ê¸°
```

### **í™•ì¥ í¬ì¸íŠ¸**
- **ìƒˆë¡œìš´ ì´ë¯¸ì§€ í˜•ì‹**: `SUPPORTED_EXTS`ì— ì¶”ê°€
- **ìƒˆë¡œìš´ API**: `main.py`ì— ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- **UI ì»´í¬ë„ŒíŠ¸**: `main.js`ì— í´ë˜ìŠ¤/ë©”ì„œë“œ ì¶”ê°€
- **ë¶„ë¥˜ ì‹œìŠ¤í…œ**: ë¼ë²¨ë§ ë° ML ëª¨ë¸ ì—°ë™ ê°€ëŠ¥

ì´ êµ¬ì¡°ë¥¼ í†µí•´ **í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•œ** ì›¨ì´í¼ ë§µ ë·°ì–´ ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”§ ìƒì„¸ êµ¬í˜„ ì •ë³´ ë° ìˆ˜ì • ê°€ì´ë“œ

### **1. ê³ ê¸‰ ê²€ìƒ‰ ì‹œìŠ¤í…œ (main.js)**

#### **êµ¬í˜„ ìœ„ì¹˜**: 991-1107ë²ˆì§¸ ì¤„
- `fastFileNameSearch()`: DOM ê¸°ë°˜ ë¹ ë¥¸ ê²€ìƒ‰
- `matchesSearchQuery()`: ë³µí•© í‘œí˜„ì‹ íŒŒì‹±
- `evaluateExpression()`: ê´„í˜¸ ì²˜ë¦¬ ë° ì—°ì‚°ì ìš°ì„ ìˆœìœ„
- `evaluateAndExpression()`, `evaluateNotExpression()`: AND/NOT ë¡œì§

#### **ì§€ì›í•˜ëŠ” ì—°ì‚°ì**:
```javascript
// ìš°ì„ ìˆœìœ„: () > NOT > AND > OR
"(center or donut) and not ring"
"edge and ring"
"not adaptive"
"center or donut"
```

#### **ìˆ˜ì • ë°©ë²•**:
- **ìƒˆ ì—°ì‚°ì ì¶”ê°€**: `evaluateExpression()` í•¨ìˆ˜ì— ìƒˆë¡œìš´ ë¶„ê¸° ì¶”ê°€
- **ê²€ìƒ‰ ì†ë„ ì¡°ì •**: `fastFileNameSearch()`ì˜ DOM ì¿¼ë¦¬ ìµœì í™”

### **2. ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ ì‹œìŠ¤í…œ (index.html + main.js)**

#### **HTML êµ¬ì¡°** (787-804ë²ˆì§¸ ì¤„):
```html
<div id="grid-context-menu" class="context-menu">
    <div class="context-menu-item" id="context-download">ğŸ“¥ ì„ íƒ íŒŒì¼ ë‹¤ìš´ë¡œë“œ</div>
    <div class="context-menu-item" id="context-merge-copy">ğŸ–¼ï¸ ì´ë¯¸ì§€ í•©ì³ì„œ í´ë¦½ë³´ë“œ ë³µì‚¬</div>
    <div class="context-menu-item" id="context-list-copy">ğŸ“‹ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ë³µì‚¬</div>
    <div class="context-menu-item" id="context-table-copy">ğŸ“Š íŒŒì¼ë¦¬ìŠ¤íŠ¸í…Œì´ë¸”ë³µì‚¬</div>
    <div class="context-menu-item" id="context-cancel">âŒ ì·¨ì†Œ</div>
</div>
```

#### **JavaScript ì´ë²¤íŠ¸** (1216-1249ë²ˆì§¸ ì¤„):
```javascript
initializeContextMenu() {
    // ê° ë©”ë‰´ í•­ëª©ì— onclick ì´ë²¤íŠ¸ ì—°ê²°
    const tableCopyItem = document.getElementById('context-table-copy');
    if (tableCopyItem) {
        tableCopyItem.onclick = () => {
            this.hideContextMenu();
            this.copyFileListAsTable();  // â† í•µì‹¬ í•¨ìˆ˜ í˜¸ì¶œ
        };
    }
}
```

### **3. íŒŒì¼ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” ë³µì‚¬ ê¸°ëŠ¥ (main.js)**

#### **í•µì‹¬ í•¨ìˆ˜**: `copyFileListAsTable()` (1365-1428ë²ˆì§¸ ì¤„)

#### **ğŸ¯ ì»¬ëŸ¼ëª… ìˆ˜ì • ìœ„ì¹˜**:
```javascript
// ğŸ“ 1398ë²ˆì§¸ ì¤„ - ì—¬ê¸°ì„œ í—¤ë”ëª… ë³€ê²½!
const headers = ['Folder', 'Name_Part1', 'Name_Part2', 'Name_Part3', 'Name_Part4', 'Name_Part5'];

// ì˜ˆì‹œ ë³€ê²½:
const headers = ['í´ë”', 'íƒ€ì…', 'ë²ˆí˜¸', 'ì²˜ë¦¬ë°©ë²•', 'ë²„ì „', 'ê¸°íƒ€'];
const headers = ['Directory', 'WaferType', 'ProcessStep', 'Parameter', 'Version', 'Extra'];
```

#### **ğŸ¯ ë°ì´í„° êµ¬ì¡° ìˆ˜ì • ìœ„ì¹˜**:
```javascript
// ğŸ“ 1387-1394ë²ˆì§¸ ì¤„ - ì—¬ê¸°ì„œ í•„ë“œëª… ë³€ê²½!
return {
    folder: folder || 'ROOT',
    part1: nameParts[0] || '',    // â† ë³€ê²½ ê°€ëŠ¥
    part2: nameParts[1] || '',    // â† ë³€ê²½ ê°€ëŠ¥
    part3: nameParts[2] || '',    // â† ë³€ê²½ ê°€ëŠ¥
    part4: nameParts[3] || '',    // â† ë³€ê²½ ê°€ëŠ¥
    part5: nameParts[4] || ''     // â† ë³€ê²½ ê°€ëŠ¥
};
```

#### **ğŸ¯ ë§¤í•‘ ë°°ì—´ ìˆ˜ì • ìœ„ì¹˜**:
```javascript
// ğŸ“ 1402ë²ˆì§¸ ì¤„ - ìœ„ì˜ í•„ë“œëª…ê³¼ ì¼ì¹˜ì‹œì¼œì•¼ í•¨!
const values = [row.folder, row.part1, row.part2, row.part3, row.part4, row.part5];
```

#### **íŒŒì¼ëª… ë¶„í•  ë¡œì§**:
```javascript
// í™•ì¥ì ì œê±°: fileName.replace(/\.[^/.]+$/, '')
// ì–¸ë”ìŠ¤ì½”ì–´ ë¶„í• : nameWithoutExt.split('_')
// í´ë”ëª… ì¶”ì¶œ: pathParts[pathParts.length - 2]
```

### **4. í´ë” ìˆ¨ê¸°ê¸° ê¸°ëŠ¥ (api/main.py)**

#### **êµ¬í˜„ ìœ„ì¹˜**: 495-497ë²ˆì§¸ ì¤„
```python
# classification, thumbnails í´ë”ëŠ” íŒŒì¼ íƒìƒ‰ê¸°ì—ì„œ ìˆ¨ê¸°ê¸°
if entry.name in ['classification', 'thumbnails']:
    continue
```

#### **ìˆ˜ì • ë°©ë²•**:
```python
# ë” ë§ì€ í´ë” ìˆ¨ê¸°ê¸°
if entry.name in ['classification', 'thumbnails', '.git', 'temp', 'cache']:
    continue

# íŒ¨í„´ ê¸°ë°˜ ìˆ¨ê¸°ê¸°
if entry.name.startswith('.') or entry.name.endswith('_backup'):
    continue
```

### **5. ì¸ë„¤ì¼ ì‹œìŠ¤í…œ ì„¤ì • (api/config.py)**

#### **ì£¼ìš” ì„¤ì •ê°’**:
```python
THUMBNAIL_SIZE = (512, 512)           # ì¸ë„¤ì¼ í¬ê¸°
THUMBNAIL_QUALITY = 95                # WebP í’ˆì§ˆ (1-100)
BACKGROUND_BATCH_SIZE = 10            # ë°±ê·¸ë¼ìš´ë“œ ë°°ì¹˜ í¬ê¸°
THUMBNAIL_CACHE_SECONDS = 86400       # ìºì‹œ ìœ ì§€ ì‹œê°„
```

#### **ì„±ëŠ¥ ì¡°ì • ë°©ë²•**:
- **ì†ë„ ìš°ì„ **: `THUMBNAIL_SIZE = (256, 256)`, `THUMBNAIL_QUALITY = 80`
- **í’ˆì§ˆ ìš°ì„ **: `THUMBNAIL_SIZE = (1024, 1024)`, `THUMBNAIL_QUALITY = 100`
- **ë©”ëª¨ë¦¬ ì ˆì•½**: `BACKGROUND_BATCH_SIZE = 5`

### **6. UI í”„ë ˆì„ í¬ê¸° ì¡°ì • (index.html)**

#### **ì¢Œì¸¡ í”„ë ˆì„** (47-50ë²ˆì§¸ ì¤„):
```css
.sidebar {
    width: 400px;        /* â† ë©”ì¸ ë„ˆë¹„ */
    min-width: 300px;    /* â† ìµœì†Œ ë„ˆë¹„ */
    max-width: 600px;    /* â† ìµœëŒ€ ë„ˆë¹„ */
}
```

#### **ìš°ì¸¡ í”„ë ˆì„** (434-437ë²ˆì§¸ ì¤„):
```css
.wrapper-right {
    width: 390px;        /* â† ë©”ì¸ ë„ˆë¹„ */
    min-width: 270px;    /* â† ìµœì†Œ ë„ˆë¹„ */
    max-width: 540px;    /* â† ìµœëŒ€ ë„ˆë¹„ */
}
```

### **7. ê²€ìƒ‰ ì…ë ¥ì°½ ì„¤ì • (index.html)**

#### **ê²€ìƒ‰ì°½ í¬ê¸° ë° placeholder** (717ë²ˆì§¸ ì¤„):
```html
<input type="text" id="file-search" 
       placeholder="íŒŒì¼ëª… ì…ë ¥ (ì˜ˆ: (center or donut) and not ring)" 
       style="width: 320px;">
```

#### **ìˆ˜ì • ì˜ˆì‹œ**:
```html
<!-- ë” ë„“ì€ ê²€ìƒ‰ì°½ -->
<input style="width: 400px;">

<!-- ë‹¤ë¥¸ placeholder -->
placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (AND/OR/NOT/ê´„í˜¸ ì§€ì›)"
```

### **8. íŒŒì¼ ì„ íƒ ë™ì‘ ë¡œì§ (main.js)**

#### **ë‹¨ì¼ í´ë¦­ vs ë‹¤ì¤‘ ì„ íƒ** (1537-1550ë²ˆì§¸ ì¤„):
```javascript
} else {
    // ë‹¨ì¼ í´ë¦­ - ì´ë¯¸ì§€ íŒŒì¼ì´ë©´ ìì„¸íˆë³´ê¸° ëª¨ë“œ
    this.selectedImages = [path];
    this.selectedImagePath = path;
    
    // ì´ë¯¸ì§€ íŒŒì¼ì¸ì§€ í™•ì¸
    if (this.isImageFile(path)) {
        // ìì„¸íˆë³´ê¸° ëª¨ë“œë¡œ ì „í™˜
        this.hideGrid();
        this.loadImage(path);
    } else {
        // ì´ë¯¸ì§€ê°€ ì•„ë‹ˆë©´ ê·¸ë¦¬ë“œ ëª¨ë“œ
        this.showGrid(this.selectedImages);
    }
}
```

#### **ë™ì‘ ë³€ê²½ ë°©ë²•**:
```javascript
// í•­ìƒ ê·¸ë¦¬ë“œ ëª¨ë“œë¡œ í•˜ë ¤ë©´:
this.showGrid(this.selectedImages);

// í•­ìƒ ìì„¸íˆë³´ê¸° ëª¨ë“œë¡œ í•˜ë ¤ë©´:
this.hideGrid();
this.loadImage(path);
```

### **9. í™•ì¥ í¬ì¸íŠ¸ ë° ê°œì„  ë°©í–¥**

#### **ìƒˆë¡œìš´ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ í•­ëª© ì¶”ê°€**:
1. **HTML**: `index.html`ì— ìƒˆ `context-menu-item` ì¶”ê°€
2. **JavaScript**: `initializeContextMenu()`ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
3. **ê¸°ëŠ¥ êµ¬í˜„**: ìƒˆë¡œìš´ ë©”ì„œë“œ êµ¬í˜„

#### **ìƒˆë¡œìš´ ê²€ìƒ‰ ì—°ì‚°ì ì¶”ê°€**:
1. `matchesSearchQuery()`ì— ìƒˆ ì—°ì‚°ì ê°ì§€ ë¡œì§ ì¶”ê°€
2. í•´ë‹¹ ì—°ì‚°ì ì²˜ë¦¬ í•¨ìˆ˜ êµ¬í˜„
3. ìš°ì„ ìˆœìœ„ ì¡°ì •

#### **ìƒˆë¡œìš´ íŒŒì¼ í˜•ì‹ ì§€ì›**:
1. `isImageFile()` í•¨ìˆ˜ì— í™•ì¥ì ì¶”ê°€
2. `api/config.py`ì˜ `SUPPORTED_EXTS` ì—…ë°ì´íŠ¸

#### **ì„±ëŠ¥ ìµœì í™”**:
1. **ê°€ìƒí™”**: ëŒ€ëŸ‰ ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ ê°€ìƒ ìŠ¤í¬ë¡¤ë§ êµ¬í˜„
2. **ìºì‹±**: ë¸Œë¼ìš°ì € localStorage í™œìš©
3. **ì§€ì—° ë¡œë”©**: Intersection Observer API í™œìš©

ì´ ê°€ì´ë“œë¥¼ í†µí•´ GitHubì—ì„œ ë‹¤ìš´ë¡œë“œ í›„ ë¹ ë¥´ê²Œ ì½”ë“œë¥¼ íŒŒì•…í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
